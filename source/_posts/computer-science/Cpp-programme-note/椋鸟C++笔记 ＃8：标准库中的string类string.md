---
title: 椋鸟C++笔记#8：标准库中的string类
date: 2024-09-dd hh:mm:ss
category:
  - [计算机科学, C++笔记]
tags:
  - C++
  - string
math: true
---

:::info
该系列为本人的学习笔记，主要由本人整理书写而成。部分内容来自教材、视频课程等，不能保证完全原创性。
:::

萌新的学习笔记，写错了恳请斧正。

### C语言里的字符串

在学C语言的时候，我们使用过字符串，当时字符串是以'\0'结尾的字符的集合。同时，C语言标准库里还提供了一些str函数用于处理字符串。但是这种字符串的使用有很大的缺陷：

1. 关于字符串处理的库函数和字符串本身是分离的，**不符合面向对象的思想**。
2. **内存管理非常复杂**，依赖于程序员对每一个字符串进行分配和释放内存，容易出现**内存泄露或者越界访问**。
3. 很多str函数的操作并没有那么方便，想实现一些功能会有比较繁琐的操作，还要考虑内存大小的问题容易出错。
4. C语言的字符串并不方便动态扩展，需要手动重新分配内存。
5. ==虽然本质上C语言的字符串就是一个字符数组，但是这里字符串和字符数组表现出来的性质是有所不同的（详见C语言笔记#20的最后一个样例），这导致两者容易被搞混！==

### C\+\+中的string类

#### string类是什么

>C++中的`std::string`类是标准库中用于处理字符串的类。它提供了一种高效、灵活且安全的方式来操作字符序列，替代了C语言中基于`char*`的字符串。`std::string`自动管理内存，支持动态扩展，避免了手动内存分配的复杂性。它提供了丰富的成员函数和操作符重载，如拼接、查找、截取、比较等操作，极大简化了字符串的处理。此外，`std::string`还兼容STL的容器风格，支持迭代器和各种算法。

#### string类与STL的关系

首先，我们要知道string并不属于严格意义上的STL。在早期的C\+\+标准化过程中，string类是C++标准库中一个独立设计的类，设计初衷是提供比C语言中的`char*`更强大、灵活的字符串操作能力。STL和string的发展是同时的，因此STL中并没有单独做一个string，但是STL比string更早被标准化并引入C\+\+标准。

#### string类其实也是一个类模板

C++中的string本质上是基于类模板的。虽然我们通常使用string，但它实际上是basic_string类模板的一个特例化版本（`std::basic_string<char>`）。采用类模板主要是因为字符是有很多类型的，常见的是ASCII字符（char），但是还有宽字符（wchar_t）、Unicode字符（char16_t、char32_t）等其他字符需要支持。



